{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\oauth/assets\\Script\\oauth\\GameConfiguration.ts"],"names":[],"mappings":";;;;AAAA,YAAY,CAAC;;AAIb;IAAA;QACa,mBAAc,GAAW,aAAa,CAAC;QAexC,YAAO,GAAY,IAAI,CAAC;IA4CpC,CAAC;IAzCG,sBAAI,iDAAkB;aAAtB;YACI,OAAO,IAAI,CAAC,mBAAmB,CAAC;QACpC,CAAC;aAED,UAAuB,MAA2B;YAC9C,IAAI,CAAC,mBAAmB,GAAG,MAAM,CAAC;QACtC,CAAC;;;OAJA;IAMD,sBAAI,qCAAM;aAAV;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;aACD,UAAW,OAAe;YACtB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QAC3B,CAAC;;;OAHA;IAID,sBAAI,4CAAa;aAAjB;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;aACD,UAAkB,UAAkB;YAChC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QACjC,CAAC;;;OAHA;IAID,sBAAI,2CAAY;aAAhB;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aACD,UAAiB,KAAqB;YAClC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACxB,CAAC;;;OAHA;IAKD,sBAAI,4CAAa;aAAjB;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;aAED,UAAkB,MAAe;YAC7B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,sBAAsB,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAC1E,CAAC;;;OALA;IAMO,oCAAQ,GAAhB,UAAiB,IAAY,EAAE,IAAS;QACpC,IAAM,CAAC,GAAyB,IAAI,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACrE,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;QAChB,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QACpB,EAAE,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;IACpC,CAAC;IA1CsB,wCAAsB,GAAW,qBAAqB,CAAC;IA2ClF,wBAAC;CA5DD,AA4DC,IAAA;AA5DY,8CAAiB","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\oauth","sourcesContent":["\"use strict\";\r\nimport { IGameConfiguration, ITokenResponse, IOAuthConfiguration } from \"./IGameConfiguration\";\r\nimport { IPlayer } from \"../api\";\r\n\r\nexport class GameConfiguration implements IGameConfiguration {\r\n    readonly playersEnpoint: string = \"/api/Player\";\r\n\r\n    private _oauthConfiguration: {\r\n        providerID: string;\r\n        client_id: string;\r\n        authorization: string;\r\n        token: string;\r\n        redirect_uri: string;\r\n        scopes: { request: [string]; };\r\n        response_type: string;\r\n        nonce: string;\r\n    };\r\n    private _apiUrl: string;\r\n    private _serverUrl: string;\r\n    private _token: ITokenResponse;\r\n    private _player: IPlayer = null;\r\n    public static readonly ON_PLAYER_DATA_UPDATED: string = \"onPlayerDataUpdated\";\r\n\r\n    get oauthConfiguration(): IOAuthConfiguration {\r\n        return this._oauthConfiguration;\r\n    }\r\n\r\n    set oauthConfiguration(config: IOAuthConfiguration) {\r\n        this._oauthConfiguration = config;\r\n    }\r\n\r\n    get apiUrl(): string {\r\n        return this._apiUrl;\r\n    }\r\n    set apiUrl(baseUrl: string) {\r\n        this._apiUrl = baseUrl;\r\n    }\r\n    get gameServerUrl(): string {\r\n        return this._serverUrl;\r\n    }\r\n    set gameServerUrl(_serverUrl: string) {\r\n        this._serverUrl = _serverUrl;\r\n    }\r\n    get currentToken(): ITokenResponse {\r\n        return this._token;\r\n    }\r\n    set currentToken(token: ITokenResponse) {\r\n        this._token = token;\r\n    }\r\n\r\n    get currentPlayer(): IPlayer {\r\n        return this._player;\r\n    }\r\n\r\n    set currentPlayer(player: IPlayer) {\r\n        this._player = player;\r\n        this.dispatch(GameConfiguration.ON_PLAYER_DATA_UPDATED, this._player);\r\n    }\r\n    private dispatch(type: string, data: any): void {\r\n        const e: cc.Event.EventCustom = new cc.Event.EventCustom(type, true);\r\n        e.target = this;\r\n        e.setUserData(data);\r\n        cc.systemEvent.dispatchEvent(e);\r\n    }\r\n}\r\n"]}